---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "stripe_promotion_code Resource - stripe"
subcategory: ""
description: |-
  A Promotion Code represents a customer-redeemable code for an underlying promotion. You can create multiple codes for a single promotion. If you enable promotion codes in your customer portal configuration https://stripe.com/docs/customer-management/configure-portal, then customers can redeem a code themselves when updating a subscription in the portal. Customers can also view the currently active promotion codes and coupons on each of their subscriptions in the portal.
---

# stripe_promotion_code (Resource)

A Promotion Code represents a customer-redeemable code for an underlying promotion. You can create multiple codes for a single promotion. If you enable promotion codes in your [customer portal configuration](https://stripe.com/docs/customer-management/configure-portal), then customers can redeem a code themselves when updating a subscription in the portal. Customers can also view the currently active promotion codes and coupons on each of their subscriptions in the portal.



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `promotion` (Block List, Min: 1, Max: 1) The promotion referenced by this promotion code. (see [below for nested schema](#nestedblock--promotion))

### Optional

- `active` (Boolean) Whether the promotion code is currently active.
- `code` (String) The customer-facing code. Regardless of case, this code must be unique across all active promotion codes for a specific customer. Valid characters are lower case letters (a-z), upper case letters (A-Z), and digits (0-9). If left blank, we will generate one automatically.
- `customer` (String) The customer that this promotion code can be used by. If not set, the promotion code can be used by all customers.
- `customer_account` (String) The account that this promotion code can be used by. If not set, the promotion code can be used by all accounts.
- `expires_at` (Number) The timestamp at which this promotion code will expire. If the coupon has specified a `redeems_by`, then this value cannot be after the coupon's `redeems_by`.
- `max_redemptions` (Number) A positive integer specifying the number of times the promotion code can be redeemed. If the coupon has specified a `max_redemptions`, then this value cannot be greater than the coupon's `max_redemptions`.
- `metadata` (Map of String) Set of [key-value pairs](https://stripe.com/docs/api/metadata) that you can attach to an object. This can be useful for storing additional information about the object in a structured format. Individual keys can be unset by posting an empty value to them. All keys can be unset by posting an empty value to `metadata`.
- `restrictions` (Block List, Max: 1) Settings that restrict the redemption of the promotion code. (see [below for nested schema](#nestedblock--restrictions))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--promotion"></a>
### Nested Schema for `promotion`

Required:

- `type` (String) Specifies the type of promotion.

Optional:

- `coupon` (String) If promotion `type` is `coupon`, the coupon for this promotion code.


<a id="nestedblock--restrictions"></a>
### Nested Schema for `restrictions`

Optional:

- `currency_options` (Block List) Promotion codes defined in each available currency option. Each key must be a three-letter [ISO currency code](https://www.iso.org/iso-4217-currency-codes.html) and a [supported currency](https://stripe.com/docs/currencies). (see [below for nested schema](#nestedblock--restrictions--currency_options))
- `first_time_transaction` (Boolean) A Boolean indicating if the Promotion Code should only be redeemed for Customers without any successful payments or invoices
- `minimum_amount` (Number) Minimum amount required to redeem this Promotion Code into a Coupon (e.g., a purchase must be $100 or more to work).
- `minimum_amount_currency` (String) Three-letter [ISO code](https://stripe.com/docs/currencies) for minimum_amount

<a id="nestedblock--restrictions--currency_options"></a>
### Nested Schema for `restrictions.currency_options`

Required:

- `key` (String)

Optional:

- `minimum_amount` (Number) Minimum amount required to redeem this Promotion Code into a Coupon (e.g., a purchase must be $100 or more to work).
